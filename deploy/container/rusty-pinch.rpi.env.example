# Raspberry Pi compose profile (copy to rusty-pinch.rpi.env)
#
# Recommended runtime: Raspberry Pi OS 64-bit (aarch64), Docker Engine + compose plugin.

# Base provider runtime
RUSTY_PINCH_PROVIDER=codex
RUSTY_PINCH_MODEL=gpt-5.2-codex
# RUSTY_PINCH_OPENROUTER_API_KEY=
RUSTY_PINCH_OPENAI_API_KEY=
RUSTY_PINCH_REQUEST_TIMEOUT_SECS=60
RUSTY_PINCH_REQUEST_RETRIES=2
RUSTY_PINCH_RETRY_BACKOFF_MS=600
RUSTY_PINCH_RETRY_MAX_BACKOFF_MS=4000

# Shared channel paths (inside container)
RUSTY_PINCH_DATA_DIR=/var/lib/rusty-pinch/data
RUSTY_PINCH_WORKSPACE=/var/lib/rusty-pinch/workspace
RUSTY_PINCH_TELEMETRY_FILE=/var/lib/rusty-pinch/data/telemetry/latest.json
# Keep Codex auth/cache in the bind-mounted `./codex-home` path.
CODEX_HOME=/var/lib/rusty-pinch/codex-home

# Telegram worker
RUSTY_PINCH_CHANNELS_TELEGRAM_ENABLED=true
RUSTY_PINCH_CHANNELS_TELEGRAM_TOKEN=
RUSTY_PINCH_CHANNELS_TELEGRAM_ALLOW_FROM=

# Codex integration (optional)
RUSTY_PINCH_CODEX_ENABLED=true
RUSTY_PINCH_CODEX_CLI_BIN=codex
# Include repo-check bypass because runtime path in container is not a git repo.
RUSTY_PINCH_CODEX_CLI_ARGS=exec --skip-git-repo-check
RUSTY_PINCH_CODEX_PROMPT_FLAG=
RUSTY_PINCH_CODEX_MODEL_FLAG=--model
# RUSTY_PINCH_CODEX_MODEL=gpt-5.2-codex
RUSTY_PINCH_CODEX_HEALTHCHECK_ARGS=--version
RUSTY_PINCH_CODEX_AUTO_LOGIN=true
# chatgpt | api-key | off
RUSTY_PINCH_CODEX_AUTO_LOGIN_MODE=chatgpt
# For chatgpt mode, device auth can run at startup when session is missing.
RUSTY_PINCH_CODEX_CHATGPT_DEVICE_AUTH=true
RUSTY_PINCH_CODEX_LOGIN_TIMEOUT_SECS=300
# Optional pre-seeded auth material (ChatGPT mode):
# RUSTY_PINCH_CODEX_CHATGPT_AUTH_FILE=/run/secrets/codex-auth.json
# RUSTY_PINCH_CODEX_CHATGPT_AUTH_JSON_B64=<base64-auth-json>
# Optional API key mode source env name (default RUSTY_PINCH_OPENAI_API_KEY):
# RUSTY_PINCH_CODEX_AUTO_LOGIN_API_KEY_ENV=RUSTY_PINCH_OPENAI_API_KEY
# RUSTY_PINCH_OPENAI_API_KEY=
# RUSTY_PINCH_CODEX_ACCOUNTS=primary|RUSTY_PINCH_OPENAI_API_KEY|200|gpt-5-codex

# WhatsApp worker (community phase, enable only if needed)
RUSTY_PINCH_CHANNELS_WHATSAPP_ENABLED=false
RUSTY_PINCH_CHANNELS_WHATSAPP_BRIDGE_URL=ws://bridge:3001
RUSTY_PINCH_CHANNELS_WHATSAPP_ALLOW_FROM=
